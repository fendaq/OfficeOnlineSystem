<?xml version="1.0" encoding="UTF-8"?>
<TestRun id="c2c05b1f-fe05-4f46-a343-f3f11d4bdb4a" name="STRIKE@STRIKE-THINK 2012-05-31 16:01:39" runUser="STRIKE-THINK\STRIKE" xmlns="http://microsoft.com/schemas/VisualStudio/TeamTest/2010">
  <TestSettings name="本地" id="b0d1f914-73df-497a-86de-32ab188fa84f">
    <Description>这些设置为本地测试运行的默认测试设置。</Description>
    <Deployment enabled="false" runDeploymentRoot="STRIKE_STRIKE-THINK 2012-05-31 16_01_39">
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\TestFu.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\DataAccessLayer\bin\Debug\DataAccessLayer.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\NHibernate\Castle.DynamicProxy.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\NHibernate\log4net.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\NGraphviz.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\MbUnit.MSBuild.Tasks.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\TestDriven.Framework.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\NHibernate\Iesi.Collections.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\QuickGraph.Algorithms.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\NGraphviz.Layout.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\MbUnit.Framework.2.0.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\QuickGraph.Algorithms.Graphviz.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\NGraphviz.Helpers.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\MbUnit.AddIn.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\NAnt.Core.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\NHibernate\NHibernate.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\MbUnit.Framework.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\Refly.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\nunit.framework.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\MbUnit.Tasks.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\Lib\MbUnit\QuickGraph.dll" />
      <DeploymentItem filename="D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\DataTransfer\bin\Debug\DataTransfer.dll" />
    </Deployment>
    <Execution>
      <TestTypeSpecific />
      <AgentRule name="Execution Agents">
      </AgentRule>
    </Execution>
  </TestSettings>
  <Times creation="2012-05-31T16:01:39.0569675+08:00" queuing="2012-05-31T16:01:40.3460412+08:00" start="2012-05-31T16:01:40.4360464+08:00" finish="2012-05-31T16:02:27.4797371+08:00" />
  <ResultSummary outcome="Failed">
    <Counters total="1" executed="1" error="0" failed="1" timeout="0" aborted="0" inconclusive="0" passedButRunAborted="0" notRunnable="0" notExecuted="0" disconnected="0" warning="0" passed="0" completed="0" inProgress="0" pending="0" />
  </ResultSummary>
  <TestDefinitions>
    <UnitTest name="DeletePFileTest" storage="d:\学习\大三下\敏捷软件开发\o\officeonlinesystem\testproject2\bin\debug\testproject2.dll" id="9ca828d6-7887-68fd-9992-991592983618">
      <Execution id="d72c75cf-fb90-4b69-af2f-e375b9c66e0c" />
      <TestMethod codeBase="D:/学习/大三下/敏捷软件开发/O/OfficeOnlineSystem/TestProject2/bin/Debug/TestProject2.DLL" adapterTypeName="Microsoft.VisualStudio.TestTools.TestTypes.Unit.UnitTestAdapter, Microsoft.VisualStudio.QualityTools.Tips.UnitTest.Adapter, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" className="OfficeOnlineSystemTest.PostFileQueryHql, TestProject2, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="DeletePFileTest" />
    </UnitTest>
  </TestDefinitions>
  <TestLists>
    <TestList name="列表中未列出的结果" id="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestList name="所有已加载的结果" id="19431567-8539-422a-85d7-44ee4e166bda" />
  </TestLists>
  <TestEntries>
    <TestEntry testId="9ca828d6-7887-68fd-9992-991592983618" executionId="d72c75cf-fb90-4b69-af2f-e375b9c66e0c" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
  </TestEntries>
  <Results>
    <UnitTestResult executionId="d72c75cf-fb90-4b69-af2f-e375b9c66e0c" testId="9ca828d6-7887-68fd-9992-991592983618" testName="DeletePFileTest" computerName="STRIKE-THINK" duration="00:00:46.1297615" startTime="2012-05-31T16:01:40.4750486+08:00" endTime="2012-05-31T16:02:27.3797314+08:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Failed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="d72c75cf-fb90-4b69-af2f-e375b9c66e0c">
      <Output>
        <ErrorInfo>
          <Message>测试方法 OfficeOnlineSystemTest.PostFileQueryHql.DeletePFileTest 引发了异常: 
NHibernate.ADOException: could not delete: [DataTransfer.Post_file#10][SQL: DELETE FROM post_file WHERE id = ?] ---&gt; MySql.Data.MySqlClient.MySqlException: Cannot delete or update a parent row: a foreign key constraint fails (`officeonline`.`treat_file`, CONSTRAINT `treat_file_ibfk_1` FOREIGN KEY (`username`) REFERENCES `post_file` (`username`))</Message>
          <StackTrace>    在 MySql.Data.MySqlClient.MySqlStream.OpenPacket()
   在 MySql.Data.MySqlClient.NativeDriver.ReadResult(UInt64&amp; affectedRows, Int64&amp; lastInsertId)
   在 MySql.Data.MySqlClient.MySqlDataReader.GetResultSet()
   在 MySql.Data.MySqlClient.MySqlDataReader.NextResult()
   在 MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)
   在 MySql.Data.MySqlClient.MySqlCommand.ExecuteReader()
   在 MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
   在 NHibernate.Impl.BatcherImpl.ExecuteNonQuery(IDbCommand cmd)
   在 NHibernate.Impl.NonBatchingBatcher.AddToBatch(IExpectation expectation)
   在 NHibernate.Persister.Entity.AbstractEntityPersister.Delete(Object id, Object version, Int32 j, Object obj, SqlCommandInfo sql, ISessionImplementor session, Object[] loadedState)
 --- 内部异常堆栈跟踪的末尾 ---
    在 NHibernate.Persister.Entity.AbstractEntityPersister.Delete(Object id, Object version, Int32 j, Object obj, SqlCommandInfo sql, ISessionImplementor session, Object[] loadedState)
   在 NHibernate.Persister.Entity.AbstractEntityPersister.Delete(Object id, Object version, Object obj, ISessionImplementor session)
   在 NHibernate.Impl.ScheduledDeletion.Execute()
   在 NHibernate.Impl.SessionImpl.Execute(IExecutable executable)
   在 NHibernate.Impl.SessionImpl.ExecuteAll(IList list)
   在 NHibernate.Impl.SessionImpl.Execute()
   在 NHibernate.Impl.SessionImpl.Flush()
   在 DataAccessLayer.Post_fileQueryHql.DeletePost_file(Post_file file) 位置 D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\DataAccessLayer\Post_fileQueryHql.cs:行号 60
   在 OfficeOnlineSystemTest.PostFileQueryHql.DeletePFileTest() 位置 D:\学习\大三下\敏捷软件开发\O\OfficeOnlineSystem\TestProject2\PostFileQueryHql.cs:行号 93
</StackTrace>
        </ErrorInfo>
      </Output>
    </UnitTestResult>
  </Results>
</TestRun>